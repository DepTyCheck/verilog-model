issue_status: reported
issue_link: https://github.com/steveicarus/iverilog/issues/1224
stage: syntesis
tool: iverilog
id: packed_array_assignment_pattern_expects_elements_in_this_context
title: Packed array assignment pattern expects <num> element(s) in this context
regex: >
  Packed array assignment pattern expects \d+ element\(s\) in this context
examples:
  - packed_array_assignment_pattern_expects_elements_in_this_context_v1:
      first_found: 09.03.2025
      full_example: |
        // Seed: 103981633713638416,3517966847084180479

        module wzxxt
          (output logic [1:1] lunkojo, output real zgqpgtsvt [3:0][0:0], input bit [2:3] juwdfii, input uwire kfuj [3:1][4:3]);
          
          or vqmhwugnjr(dry, pbswkb, pmdxkzydk);
          
          // Top inputs -> top outputs assigns
          assign lunkojo = juwdfii;
          
          // Assigns
          assign pmdxkzydk = 'bz;
          assign pbswkb = 'bx;
          assign zgqpgtsvt = '{'{'bx},'{'b1},'{'bx},'{'b0}};
          assign dry = 'b1;
          assign dry = 'bx;
          assign dry = 'bz;
        endmodule: wzxxt

        module sdhrah
          ( output logic eva [3:2]
          , output integer e
          , output bit [0:4] pclhhkrs [4:4]
          , output logic [2:2][1:1][2:0] buguy
          , input bit [0:3] qiwlwu
          );
          
          // Top inputs -> top outputs assigns
          assign e = qiwlwu;
          
          // Assigns
          assign buguy = 'bzxz;
          assign pclhhkrs = '{'b01101};
          assign eva = '{'bx,'bx};
        endmodule: sdhrah

        module iruntqmc
          ( output logic [1:0][1:0] ltoy
          , output integer shymsv [4:0]
          , output wire htdyggar
          , input logic [2:1] xkluu
          , input int n
          , input logic [1:2] bdocp [2:2]
          );
          
          
          // Top inputs -> top outputs assigns
          assign ltoy = n;
          
          // Assigns
          assign htdyggar = 'b0;
          assign htdyggar = 'b1;
          assign htdyggar = 'b0;
          assign htdyggar = 'b1;
          assign htdyggar = 'b1;
        endmodule: iruntqmc

        // Seed after: 10300663968021245867,3517966847084180479
  - packed_array_assignment_pattern_expects_elements_in_this_context_v2:
      first_found: 04.03.2025
      minified_example: |
        module a(output byte b [0:0]);
          assign b = '{'b1};
        endmodule: a
      full_error: |
        error: Packed array assignment pattern expects 32 element(s) in this context.
        Found 1 element(s).
      full_example: |
        // Seed: 14915608053220662598,14732534206656503631

        module dezagwgu
          (output uwire llvafqeyiy, output int djvbra [0:0]);
          
          
          not lji(oialfexbh, jrvm);
          not nfyvtut(llvafqeyiy, oialfexbh);
          
          // Top inputs -> top outputs assigs
          
          // Assigns
          assign djvbra = '{'b1};
        endmodule: dezagwgu

        module jllbeivu
          ( output int gwxutaovkx [1:4]
          , output logic [4:2][4:0] jbmh
          , output uwire mgqmszmm [2:0]
          , input logic [1:0][1:1] oftohzel
          , input bit zalqdg
          , input int s
          );
          
          int mhvp [0:0];
          
          dezagwgu yth(.llvafqeyiy(ncfjx), .djvbra(mhvp));
          
          // Top inputs -> top outputs assigs
          
          // Assigns
        endmodule: jllbeivu

        module szrueludz
          ( output bit [2:2] iz
          , output logic jfqncy
          , output wire x
          , output bit [3:3] zp
          , input logic [3:0] fbevawcvjt [2:2]
          , input logic [1:4] jnxzeju
          );
          
          int udl [0:0];
          int nmhdnefld [0:0];
          int pghd [0:0];
          
          dezagwgu wvdcim(.llvafqeyiy(zwm), .djvbra(udl));
          dezagwgu qoyl(.llvafqeyiy(zp), .djvbra(nmhdnefld));
          dezagwgu liiof(.llvafqeyiy(dtvtqsfypa), .djvbra(pghd));
          
          // Top inputs -> top outputs assigs
          
          // Assigns
          assign jfqncy = 'bx;
          assign x = 'b1;
        endmodule: szrueludz

        module hgcdhhv
          ( output wire ms
          , output bit [0:2] zu [2:4]
          , output logic [4:2] jehm
          , input logic [3:2] gpkbpevrrk
          , input logic [1:3] lfbwc
          , input uwire vgcqn
          , input logic [1:3][3:0] fggkja
          );
          
          int sytpgyhfuo [0:0];
          
          dezagwgu lwjribmyim(.llvafqeyiy(ms), .djvbra(sytpgyhfuo));
          
          // Top inputs -> top outputs assigs
          
          // Assigns
        endmodule: hgcdhhv

        // Seed after: 8189762551118901864,14732534206656503631
      